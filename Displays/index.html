<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Documentation (Wiki) for Tasmota"><link href=https://tasmota.github.io/docs/Displays/ rel=canonical><link href=../Device-Groups/ rel=prev><link href=../Dynamic-Sleep/ rel=next><link rel=icon href=../_media/favicon.ico><meta name=generator content="mkdocs-1.4.2, mkdocs-material-9.0.12"><title>Displays - Tasmota</title><link rel=stylesheet href=../assets/stylesheets/main.0d440cfe.min.css><link rel=stylesheet href=../assets/stylesheets/palette.2505c338.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Barlow:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Barlow";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../assets/css/anchor-fix.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><script id=__analytics>function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","G-8J08F8X90S"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","G-8J08F8X90S",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-8J08F8X90S",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script><script>"undefined"!=typeof __md_analytics&&__md_analytics()</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo> <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#supported-displays class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <header class="md-header md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title=Tasmota class="md-header__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Tasmota </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Displays </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=blue data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=blue data-md-color-accent=deep-purple aria-label="Switch to light mode" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../Features/ class="md-tabs__link md-tabs__link--active"> Features </a> </li> <li class=md-tabs__item> <a href=../ESP32/ class=md-tabs__link> ESP32 </a> </li> <li class=md-tabs__item> <a href=../Integrations/ class=md-tabs__link> Smart Home Integrations </a> </li> <li class=md-tabs__item> <a href=../Supported-Peripherals/ class=md-tabs__link> Peripherals </a> </li> <li class=md-tabs__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-tabs__link> Supported Devices </a> </li> <li class=md-tabs__item> <a href=../FAQ/ class=md-tabs__link> Help </a> </li> <li class=md-tabs__item> <a href=http://tasmota.github.io/install class=md-tabs__link> Web Installer </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title=Tasmota class="md-nav__button md-logo" aria-label=Tasmota data-md-component=logo> <img src=../_media/logo.svg alt=logo> </a> Tasmota </label> <div class=md-nav__source> <a href=https://github.com/arendst/tasmota title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> arendst/tasmota </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex=0> Home <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> News </a> </li> <li class=md-nav__item> <a href=../About/ class=md-nav__link> About </a> </li> <li class=md-nav__item> <a href=../Getting-Started/ class=md-nav__link> Getting Started </a> </li> <li class=md-nav__item> <a href=../Upgrading/ class=md-nav__link> Upgrading </a> </li> <li class=md-nav__item> <a href=../MQTT/ class=md-nav__link> MQTT </a> </li> <li class=md-nav__item> <a href=../Commands/ class=md-nav__link> Commands </a> </li> <li class=md-nav__item> <a href=../Templates/ class=md-nav__link> Templates </a> </li> <li class=md-nav__item> <a href=../Components/ class=md-nav__link> Components </a> </li> <li class=md-nav__item> <a href=../Modules/ class=md-nav__link> Modules </a> </li> <li class=md-nav__item> <a href=../Peripherals/ class=md-nav__link> Peripherals </a> </li> <li class=md-nav__item> <a href=../WebUI/ class=md-nav__link> WebUI </a> </li> <li class=md-nav__item> <a href=../Firmware-Builds/ class=md-nav__link> Firmware Builds </a> </li> <li class=md-nav__item> <a href=../Compile-your-build/ class=md-nav__link> Compiling </a> </li> <li class=md-nav__item> <a href=../Contributing/ class=md-nav__link> Contributing </a> </li> <li class=md-nav__item> <a href=../Download/ class=md-nav__link> Download </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/discussions/categories/show-and-tell class=md-nav__link> Project Showcase </a> </li> <li class=md-nav__item> <a href=../For-Developers/ class=md-nav__link> For Developers </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2 checked> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex=0> Features <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=true> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Features </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Features/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../ADC/ class=md-nav__link> Analog Pin </a> </li> <li class=md-nav__item> <a href=../ArtNet/ class=md-nav__link> ArtNet DMX </a> </li> <li class=md-nav__item> <a href=../Buttons-and-Switches/ class=md-nav__link> Buttons and Switches </a> </li> <li class=md-nav__item> <a href=../DeepSleep/ class=md-nav__link> DeepSleep </a> </li> <li class=md-nav__item> <a href=../Device-Groups/ class=md-nav__link> Device Groups </a> </li> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> Displays <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> Displays </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#supported-displays class=md-nav__link> Supported Displays </a> </li> <li class=md-nav__item> <a href=#display-commands class=md-nav__link> Display Commands </a> </li> <li class=md-nav__item> <a href=#displaymode class=md-nav__link> DisplayMode </a> </li> <li class=md-nav__item> <a href=#displaytext class=md-nav__link> DisplayText </a> <nav class=md-nav aria-label=DisplayText> <ul class=md-nav__list> <li class=md-nav__item> <a href=#displaytext-parameters class=md-nav__link> DisplayText Parameters </a> </li> <li class=md-nav__item> <a href=#positioning class=md-nav__link> Positioning </a> </li> <li class=md-nav__item> <a href=#line-primitives class=md-nav__link> Line Primitives </a> </li> <li class=md-nav__item> <a href=#miscellaneous class=md-nav__link> Miscellaneous </a> </li> <li class=md-nav__item> <a href=#touch-buttons-and-sliders class=md-nav__link> Touch Buttons and Sliders </a> </li> <li class=md-nav__item> <a href=#picture-buttons class=md-nav__link> Picture Buttons </a> </li> <li class=md-nav__item> <a href=#sliders class=md-nav__link> Sliders </a> </li> <li class=md-nav__item> <a href=#display-json-variables class=md-nav__link> Display JSON variables </a> </li> <li class=md-nav__item> <a href=#line-chart class=md-nav__link> Line chart </a> </li> <li class=md-nav__item> <a href=#batch-files class=md-nav__link> Batch files </a> </li> <li class=md-nav__item> <a href=#color-codes class=md-nav__link> Color Codes </a> </li> <li class=md-nav__item> <a href=#color-indices class=md-nav__link> Color Indices </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fonts class=md-nav__link> Fonts </a> </li> <li class=md-nav__item> <a href=#hardware-connections class=md-nav__link> Hardware Connections </a> </li> <li class=md-nav__item> <a href=#rule-examples class=md-nav__link> Rule Examples </a> <nav class=md-nav aria-label="Rule Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#display-local-sensors class=md-nav__link> Display Local Sensors </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#waveshare-display-drivers class=md-nav__link> WaveShare Display Drivers </a> </li> <li class=md-nav__item> <a href=#universal-display-driver class=md-nav__link> Universal Display Driver </a> <nav class=md-nav aria-label="Universal Display Driver"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#descriptor-file class=md-nav__link> Descriptor File </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compiling class=md-nav__link> Compiling </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Dynamic-Sleep/ class=md-nav__link> Dynamic Sleep </a> </li> <li class=md-nav__item> <a href=../I2CDEVICES/ class=md-nav__link> I2C Devices </a> </li> <li class=md-nav__item> <a href=../IPv6/ class=md-nav__link> IPv6 </a> </li> <li class=md-nav__item> <a href=../Lights/ class=md-nav__link> Lights </a> </li> <li class=md-nav__item> <a href=../PIR-Motion-Sensors/ class=md-nav__link> PIR Motion Sensors </a> </li> <li class=md-nav__item> <a href=../Power-Monitoring-Calibration/ class=md-nav__link> Power Monitoring Calibration </a> </li> <li class=md-nav__item> <a href=../PWM-dimmer-switch/ class=md-nav__link> PWM Dimmer </a> </li> <li class=md-nav__item> <a href=../Rules/ class=md-nav__link> Rules </a> </li> <li class=md-nav__item> <a href=../Scripting-Language/ class=md-nav__link> Scripting Language </a> </li> <li class=md-nav__item> <a href=../Blinds-and-Shutters/ class=md-nav__link> Shutters and Blinds </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_18> <label class=md-nav__link for=__nav_2_18 id=__nav_2_18_label tabindex=0> Protocol Bridging <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_18_label aria-expanded=false> <label class=md-nav__title for=__nav_2_18> <span class="md-nav__icon md-icon"></span> Protocol Bridging </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../TasmotaClient/ class=md-nav__link> Arduino MCU </a> </li> <li class=md-nav__item> <a href=../Bluetooth/ class=md-nav__link> BLE Gateway </a> </li> <li class=md-nav__item> <a href=../Tasmota-IR/ class=md-nav__link> IR Communication </a> </li> <li class=md-nav__item> <a href=../Projector/ class=md-nav__link> LCD/DLP Projector Control </a> </li> <li class=md-nav__item> <a href=../Modbus-Bridge/ class=md-nav__link> Modbus Bridge </a> </li> <li class=md-nav__item> <a href=../OpenTherm/ class=md-nav__link> OpenTherm </a> </li> <li class=md-nav__item> <a href=../RF-Protocol/ class=md-nav__link> RF Communication </a> </li> <li class=md-nav__item> <a href=../Serial-to-TCP-Bridge/ class=md-nav__link> Serial to TCP Bridge </a> </li> <li class=md-nav__item> <a href=../Zigbee/ class=md-nav__link> Zigbee </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Smart-Meter-Interface/ class=md-nav__link> Smart Meter Interface </a> </li> <li class=md-nav__item> <a href=../Thermostat/ class=md-nav__link> Thermostat </a> </li> <li class=md-nav__item> <a href=../Timers/ class=md-nav__link> Timers </a> </li> <li class=md-nav__item> <a href=../TLS/ class=md-nav__link> TLS Secured MQTT </a> </li> <li class=md-nav__item> <a href=../TuyaMCU/ class=md-nav__link> TuyaMCU </a> </li> <li class=md-nav__item> <a href=../UFS/ class=md-nav__link> Universal File System </a> </li> <li class=md-nav__item> <a href=../Range-Extender/ class=md-nav__link> Wi-Fi Range Extender </a> </li> <li class=md-nav__item> <a href=../Tutorials/ class=md-nav__link> Projects and Tutorials </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <label class=md-nav__link for=__nav_3 id=__nav_3_label tabindex=0> ESP32 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> ESP32 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ESP32/ class=md-nav__link> Tasmota32 Features </a> </li> <li class=md-nav__item> <a href=../Berry/ class=md-nav__link> Berry </a> </li> <li class=md-nav__item> <a href=../Bluetooth_ESP32/ class=md-nav__link> Bluetooth Low Energy </a> </li> <li class=md-nav__item> <a href=../I2S-Audio/ class=md-nav__link> I2S Audio </a> </li> <li class=md-nav__item> <a href=../LVGL/ class=md-nav__link> LVGL </a> </li> <li class=md-nav__item> <a href=../HASPmota/ class=md-nav__link> HASPmota </a> </li> <li class=md-nav__item> <a href=../Tasmota-Application/ class=md-nav__link> Tasmota Application Files </a> </li> <li class=md-nav__item> <a href=../TouchPin/ class=md-nav__link> Touch GPIOs </a> </li> <li class=md-nav__item> <a href=../Safeboot/ class=md-nav__link> Safeboot Partition Layout </a> </li> <li class=md-nav__item> <a href=https://templates.blakadder.com/esp32 class=md-nav__link> Supported Devices </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> Smart Home Integrations <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Smart Home Integrations </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Integrations/ class=md-nav__link> Introduction </a> </li> <li class=md-nav__item> <a href=../Alexa/ class=md-nav__link> Alexa </a> </li> <li class=md-nav__item> <a href=../AWS-IoT/ class=md-nav__link> AWS IoT </a> </li> <li class=md-nav__item> <a href=../Domoticz/ class=md-nav__link> Domoticz </a> </li> <li class=md-nav__item> <a href=../Home-Assistant/ class=md-nav__link> Home Assistant </a> </li> <li class=md-nav__item> <a href=../Homebridge/ class=md-nav__link> Homebridge </a> </li> <li class=md-nav__item> <a href=../HomeSeer/ class=md-nav__link> HomeSeer </a> </li> <li class=md-nav__item> <a href=../IP-Symcon/ class=md-nav__link> IP Symcon </a> </li> <li class=md-nav__item> <a href=../KNX/ class=md-nav__link> KNX </a> </li> <li class=md-nav__item> <a href=../NodeRed/ class=md-nav__link> NodeRed </a> </li> <li class=md-nav__item> <a href=../nymea/ class=md-nav__link> nymea </a> </li> <li class=md-nav__item> <a href=../Octoprint/ class=md-nav__link> OctoPrint </a> </li> <li class=md-nav__item> <a href=../openHAB/ class=md-nav__link> openHAB </a> </li> <li class=md-nav__item> <a href=../otto/ class=md-nav__link> Otto </a> </li> <li class=md-nav__item> <a href=https://github.com/arendst/Tasmota/issues/3769 class=md-nav__link> IOBroker </a> </li> <li class=md-nav__item> <a href=https://github.com/tim-hellhake/tasmota-adapter class=md-nav__link> Mozilla WebThings Adapter </a> </li> <li class=md-nav__item> <a href=https://github.com/hongtat/tasmota-connect class=md-nav__link> SmartThings </a> </li> <li class=md-nav__item> <a href=https://github.com/Gifford47/tasmohab/blob/master/README.md class=md-nav__link> Tasmohab </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../Supported-Peripherals/ class=md-nav__link> Peripherals </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> Supported Devices <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Supported Devices </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../Configuration-Procedure-for-New-Devices/ class=md-nav__link> Configure Unknown Device </a> </li> <li class=md-nav__item> <a href="https://templates.blakadder.com/ " target='_blank""' class=md-nav__link> All Supported Devices </a> </li> <li class=md-nav__item> <a href=../Pinouts/ class=md-nav__link> Wi-Fi Module Pinouts </a> </li> <li class=md-nav__item> <a href=../Supported-Modules/ class=md-nav__link> Supported Modules </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> Help <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Help </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../FAQ/ class=md-nav__link> FAQ </a> </li> <li class=md-nav__item> <a href=../Troubleshooting/ class=md-nav__link> Troubleshooting </a> </li> <li class=md-nav__item> <a href=../Device-Recovery/ class=md-nav__link> Device Recovery </a> </li> <li class=md-nav__item> <a href="https://discord.gg/Ks2Kzd4 " target='_blank""' class=md-nav__link> Discord Support </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=http://tasmota.github.io/install class=md-nav__link> Web Installer </a> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#supported-displays class=md-nav__link> Supported Displays </a> </li> <li class=md-nav__item> <a href=#display-commands class=md-nav__link> Display Commands </a> </li> <li class=md-nav__item> <a href=#displaymode class=md-nav__link> DisplayMode </a> </li> <li class=md-nav__item> <a href=#displaytext class=md-nav__link> DisplayText </a> <nav class=md-nav aria-label=DisplayText> <ul class=md-nav__list> <li class=md-nav__item> <a href=#displaytext-parameters class=md-nav__link> DisplayText Parameters </a> </li> <li class=md-nav__item> <a href=#positioning class=md-nav__link> Positioning </a> </li> <li class=md-nav__item> <a href=#line-primitives class=md-nav__link> Line Primitives </a> </li> <li class=md-nav__item> <a href=#miscellaneous class=md-nav__link> Miscellaneous </a> </li> <li class=md-nav__item> <a href=#touch-buttons-and-sliders class=md-nav__link> Touch Buttons and Sliders </a> </li> <li class=md-nav__item> <a href=#picture-buttons class=md-nav__link> Picture Buttons </a> </li> <li class=md-nav__item> <a href=#sliders class=md-nav__link> Sliders </a> </li> <li class=md-nav__item> <a href=#display-json-variables class=md-nav__link> Display JSON variables </a> </li> <li class=md-nav__item> <a href=#line-chart class=md-nav__link> Line chart </a> </li> <li class=md-nav__item> <a href=#batch-files class=md-nav__link> Batch files </a> </li> <li class=md-nav__item> <a href=#color-codes class=md-nav__link> Color Codes </a> </li> <li class=md-nav__item> <a href=#color-indices class=md-nav__link> Color Indices </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#fonts class=md-nav__link> Fonts </a> </li> <li class=md-nav__item> <a href=#hardware-connections class=md-nav__link> Hardware Connections </a> </li> <li class=md-nav__item> <a href=#rule-examples class=md-nav__link> Rule Examples </a> <nav class=md-nav aria-label="Rule Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#display-local-sensors class=md-nav__link> Display Local Sensors </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#waveshare-display-drivers class=md-nav__link> WaveShare Display Drivers </a> </li> <li class=md-nav__item> <a href=#universal-display-driver class=md-nav__link> Universal Display Driver </a> <nav class=md-nav aria-label="Universal Display Driver"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#descriptor-file class=md-nav__link> Descriptor File </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#compiling class=md-nav__link> Compiling </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/tasmota/docs/blob/master/docs/Displays.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <h1>Displays</h1> <div class="admonition info"> <p class=admonition-title>This feature is included only in <code>-displays.bin</code></p> </div> <h2 id=supported-displays>Supported Displays<a class=headerlink href=#supported-displays title="Permanent link">~</a></h2> <table> <thead> <tr> <th align=center>DisplayModel</th> <th>Name</th> <th>Interface</th> </tr> </thead> <tbody> <tr> <td align=center>1</td> <td>LCD display</td> <td>I<sup>2</sup>C</td> </tr> <tr> <td align=center>2</td> <td>SSD1306 OLED display</td> <td>I<sup>2</sup>C</td> </tr> <tr> <td align=center>3</td> <td>8x8 MATRIX display</td> <td>GPIO</td> </tr> <tr> <td align=center>4</td> <td>ILI934x TFT display<br><code>DisplayIliMode 1</code> for ILI9341 or <code>DisplayIliMode 3</code> for ILI9342<br>When second SPI bus on ESP32 is used, SSPI must be defined instead of SPI</td> <td>SPI</td> </tr> <tr> <td align=center>5</td> <td>Waveshare E-Paper 2.9" display (black/white, partial update)</td> <td>SPI</td> </tr> <tr> <td align=center>6</td> <td>Waveshare E-Paper 4.2" display (black/white, full update)</td> <td>SPI</td> </tr> <tr> <td align=center>7</td> <td>SH1106 OLED display</td> <td>I<sup>2</sup>C</td> </tr> <tr> <td align=center>8</td> <td>ILI9488 TFT display</td> <td>SPI</td> </tr> <tr> <td align=center>9</td> <td>SSD1351 OLED color display</td> <td>SPI</td> </tr> <tr> <td align=center>10</td> <td>RA8876 TFT display</td> <td>SPI</td> </tr> <tr> <td align=center>11</td> <td>7 segment common anode display</td> <td>I<sup>2</sup>C</td> </tr> <tr> <td align=center>12</td> <td>ST7789 TFT display</td> <td>SPI</td> </tr> <tr> <td align=center>14</td> <td>SD1331 TFT display</td> <td>SPI</td> </tr> <tr> <td align=center>15</td> <td><a href=../TM163x/ >TM1637, TM1638 and MAX7219</a> 7-segment displays</td> <td>GPIO</td> </tr> <tr> <td align=center>16</td> <td>LilyGO T5 4.7" E-Paper display ESP32 device</td> <td><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v2H7a2 2 0 0 0-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2h2V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3M7 9h3.5a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H7v-1.5h3v-.75H8.5v-1.5H10v-.75H7M12.5 9H16a1 1 0 0 1 1 1v1.75a1 1 0 0 1-1 1h-2v.75h3V15h-4.5v-2.75a1 1 0 0 1 1-1h2v-.75h-3"/></svg></span></td> </tr> <tr> <td align=center>17</td> <td><a href=#universal-display-driver>Universal Display Driver</a></td> <td>SPI or I<sup>2</sup>C</td> </tr> <tr> <td align=center>18</td> <td>Interface to virtual display driver with <a href=../Berry/ >Berry</a></td> <td><span class=twemoji><svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 3v2H7a2 2 0 0 0-2 2v2H3v2h2v2H3v2h2v2a2 2 0 0 0 2 2h2v2h2v-2h2v2h2v-2h2a2 2 0 0 0 2-2v-2h2v-2h-2v-2h2V9h-2V7a2 2 0 0 0-2-2h-2V3h-2v2h-2V3M7 9h3.5a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H7v-1.5h3v-.75H8.5v-1.5H10v-.75H7M12.5 9H16a1 1 0 0 1 1 1v1.75a1 1 0 0 1-1 1h-2v.75h3V15h-4.5v-2.75a1 1 0 0 1 1-1h2v-.75h-3"/></svg></span></td> </tr> <tr> <td align=center>19</td> <td><a href=../MAX7219/ >MAX7219 Dot Matrix</a></td> <td>Interface GPIO</td> </tr> </tbody> </table> <h2 id=display-commands>Display Commands<a class=headerlink href=#display-commands title="Permanent link">~</a></h2> <p>See commands page for full list of available <a href=../Commands/#displays>Display Commands</a> </p> <h2 id=displaymode>DisplayMode<a class=headerlink href=#displaymode title="Permanent link">~</a></h2> <p>The display driver is able to display predefined setups of text or user defined text. To display text using <code>DisplayText</code> set <code>DisplayMode</code> to <code>0</code>, or set <code>DisplayMode</code> to <code>1</code> for the HT16K33 dot-matrix display. </p> <p>To use the seven-segment-specific <a href=../TM163x/#commands-and-usage>TM1637, TM1638 and MAX7219</a> <em>Display-</em> commands, set <code>DisplayMode</code> to <code>0</code>.</p> <table> <thead> <tr> <th>Parameter</th> <th>LCD Display</th> <th>OLED Display</th> <th>TFT Display</th> <th>7-segment Display (TM163x and MAX7219)</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>DisplayText</td> <td>DisplayText</td> <td>DisplayText</td> <td>All <a href=../TM163x/#commands-and-usage>TM163x</a> <em>Display-</em> functions</td> </tr> <tr> <td>1</td> <td>Time/Date</td> <td>Time/Date</td> <td>Time/Date</td> <td>Time</td> </tr> <tr> <td>2</td> <td>Local sensors</td> <td>Local sensors</td> <td>Local sensors</td> <td>Date</td> </tr> <tr> <td>3</td> <td>MQTT and Time/Date</td> <td>Local sensors and Time/Date</td> <td>Local sensors and Time/Date</td> <td>Time/Date</td> </tr> <tr> <td>4</td> <td>Local sensors</td> <td>MQTT and local sensors</td> <td>MQTT and local sensors</td> <td>NA</td> </tr> <tr> <td>5</td> <td>MQTT and Time/Date</td> <td>MQTT, local sensors and Time/Date</td> <td>MQTT, local sensors and Time/Date</td> <td>NA</td> </tr> </tbody> </table> <h2 id=displaytext>DisplayText<a class=headerlink href=#displaytext title="Permanent link">~</a></h2> <p>The <code>DisplayText</code> command is used to display text as well as graphics and graphs on LCD, OLED and e-Paper displays (EPD). The command argument is a string that is printed on the display at the current position. The string can be prefixed by embedded control commands enclosed in brackets <code>[]</code>.</p> <p>In order to use the <code>DisplayText</code> command the <code>DisplayMode</code> must be set to <code>0</code> (or optional <code>1</code> on LCD displays) or other modes must be disabled before compilation with <code>#undef USE_DISPLAY_MODES1TO5</code>. </p> <p>The <code>DisplayText</code> command is customised for the TM1637, TM1638 and MAX7219 seven-segment display modules. This is documented <a href=../TM163x/#commands-and-usage>here</a>. </p> <h3 id=displaytext-parameters>DisplayText Parameters<a class=headerlink href=#displaytext-parameters title="Permanent link">~</a></h3> <p>In the list below <code>p</code> stands for parameter and may be a number from 1 to n digits. On monochrome graphic displays things are drawn into a local frame buffer and sent to the display either via the <code>d</code> command or automatically at the end of the command.</p> <h3 id=positioning>Positioning<a class=headerlink href=#positioning title="Permanent link">~</a></h3> <p><code>lp</code> = sets a character line to print at (on LCD display <code>p</code> = {0&hellip;}, on TFT display <code>p</code> = {1&hellip;})<br> <code>cp</code> = sets a character column to print at (on LCD display <code>p</code> = {0&hellip;}, on TFT display <code>p</code> = {1&hellip;})<br> <code>xp</code> = sets the x position for consecutive prints<br> <code>yp</code> = sets the y position for consecutive prints </p> <p>Text is printed at the last provided position, either l or y for the vertical position, and either x or x for the horizontal position. Neither x nor y are advanced/updated after printing text.</p> <h3 id=line-primitives>Line Primitives<a class=headerlink href=#line-primitives title="Permanent link">~</a></h3> <p><code>hp</code> = draws a horizontal line with length <code>p</code> (x is advanced)<br> <code>vp</code> = draws a vertical line with length <code>p</code> (y is advanced)<br> <code>Lp:p</code> = draws a line top:<code>p</code> (x,y are advanced)<br> <code>kp</code> = draws a circle with radius <code>p</code><br> <code>Kp</code> = draws a filled circle with radius <code>p</code><br> <code>rp:p</code> = draws a rectangle with <code>p</code> with and <code>p</code> height<br> <code>Rp:p</code> = draws a filled rectangle with <code>p</code> with and <code>p</code> height<br> <code>up:p:p</code> = draws a rounded rectangle with <code>p</code> with, <code>p</code> height and <code>p</code> radius v <code>Up:p:p</code> = draws a filled rounded rectangle with <code>p</code> with, <code>p</code> height and <code>p</code> radius </p> <h3 id=miscellaneous>Miscellaneous<a class=headerlink href=#miscellaneous title="Permanent link">~</a></h3> <p><code>z</code> = clear the display<br> <code>i</code> = (re)init the display (in e-Paper mode with partial update)<br> <code>I</code> = (re)init the display (in e-Paper mode with full update)<br> <code>d</code> = update the display<br> <code>Dp</code> = switch display drawing options:<br> bit 0: auto updates =&gt; 1 auto draw on each displaytext cmd, 0 display must be updated manually with <code>d</code><br> ( only valid for bw oled and epaper displays, color displays draw always immediately)<br> bit 1: character drawing =&gt; 0 opaque character drawing, 1 transparent character drawing<br> <code>o</code> = switch display off<br> <code>O</code> = switch display on<br> <code>ap</code> = <code>p</code> (0..3) set rotation angle<br> <code>t</code> = display Tasmota time in HH:MM<br> <code>tS</code> = display Tasmota time in HH:MM:SS<br> <code>T</code> = display Tasmota date in DD.MM.YY<br> <code>pp</code> = pad text with spaces, positive values align left, negative values align right <br> <code>sp</code> = set text scaling for all fonts (scaling factor 1...N)<br> <code>fp</code> = set font (1=12, 2=24,(opt 3=8)) if font==0 the classic GFX font is used, if font==7 RA8876 internal font is used, if font==4 special 7 segment 24 pixel number font is used, a ram based font is selected if font==5<br> <code>Cp</code> = set foreground color (0,1) for black or white and RGB decimal code for color (see <a href=#color-codes>color codes</a>)<br> <code>Bp</code> = set background color (0,1) for black or white and RGB decimal code for color (see <a href=#color-codes>color codes</a>) <br> <code>Cip</code> = set foreground index color (0..31) for color displays (see index color table below)<br> <code>Bip</code> = set background index color (0..31) for color displays (see index color table below)<br> <code>wp</code> = draws an analog watch with radius p (#define USE_AWATCH) <br> <code>Pfilename:</code> = display an rgb 16-bit color (or jpg on ESP32) image when file system is present, Scripteditor contains a converter to convert jpg to special RGB16 pictures See <a href=https://tasmota.github.io/docs/Scripting-Language/#optional-external-editor>ScriptEditor</a> <code>Ffilename:</code> = load RAM font file when file system is present. the font is selected with font Nr. 5, these fonts are special binary versions of GFX fonts of any type. they end with .fnt. an initial collection is found in Folder BinFonts<br> <code>SXfilename:</code> = load display descriptor for multiple display support (X = 1..3) for up to 3 displays. <code>SX:</code> = switch to display number (X = 1..3).<br> <code>dcI:V</code> = define index color entry Index 19-31, V 16 bit color value (index 0-18 is fixed) </p> <h3 id=touch-buttons-and-sliders>Touch Buttons and Sliders<a class=headerlink href=#touch-buttons-and-sliders title="Permanent link">~</a></h3> <p>Requires <code>#define USE_TOUCH_BUTTONS</code></p> <p><img alt="touch elements" src=https://user-images.githubusercontent.com/11647075/107513682-dbb9d980-6ba8-11eb-9716-18f788f8b08d.jpg></p> <p>Draw up to 16 GFX buttons to switch real Tasmota devices such as relays or draw Sliders to dimm e.g. a lamp</p> <ul> <li>Button number + 256 - a virtual touch toggle button is created (MQTT =&gt; TBT)</li> <li>Button number + 512 - a virtual touch push button is created (MQTT =&gt; PBT)</li> </ul> <p><code>b#:xp:yp:xa:ys:oc:fc:tc:ts:text:</code> <br> <em>Parameters are separated by colons.</em> </p> <ul> <li><code>b#</code> where # = define a button number 0-15 </li> <li><code>xp</code> = x position </li> <li><code>yp</code> = y position </li> <li><code>xa</code> = x size </li> <li><code>ys</code> = y size </li> <li><code>oc</code> = outline index color </li> <li><code>fc</code> = fill index color </li> <li><code>tc</code> = text index color </li> <li><code>ts</code> = text size on buttons </li> <li><code>text:</code> = button text (must end with a colon :) (max 9 chars) </li> </ul> <div class="admonition example"> <p class=admonition-title><code>b0:260:260:100:50:2:11:4:2:Rel 1:</code></p> </div> <h3 id=picture-buttons>Picture Buttons<a class=headerlink href=#picture-buttons title="Permanent link">~</a></h3> <p>To create picture touch buttons (jpg on ESP32 only) requires <code>#define JPEG_PICTS</code> and <code>#define USE_UFILESYS</code>. </p> <p>Upload pictures to the file system with a ".jpg" extension, then give the path to the picture as button text omitting the .jpg extension.</p> <div class="admonition example"> <p class=admonition-title>Create a picture button with a picture file named <code>wifi.jpg</code></p> <p><code>b0:260:260:100:50:2:11:4:2:/wifi:</code></p> </div> <p>The size of the picture is <strong>not</strong> scaled and the dimensions of the button must fit the picture size. Clicked buttons will invert the colors of the picture. </p> <p>You may specify a picture for selected and unselected button state. Picture filename ending with '1' is used for unselected state and ending '2' is for selected state. </p> <h3 id=sliders>Sliders<a class=headerlink href=#sliders title="Permanent link">~</a></h3> <ul> <li><code>bs#</code> where # = is slider number <code>0..15</code> </li> <li><code>xp</code> = x position </li> <li><code>yp</code> = y position </li> <li><code>xa</code> = x size </li> <li><code>ys</code> = y size </li> <li><code>ne</code> = number of elements </li> <li><code>bc</code> = background color </li> <li><code>fc</code> = frame color </li> <li><code>bc</code> = bar color </li> </ul> <p>Set the state of a button or slider with: </p> <ul> <li><code>b#sX</code> where # = is slider number <code>0..15</code></li> <li><code>X</code> = <code>0</code> or <code>1</code> for buttons, <code>0..100</code> for sliders </li> </ul> <h3 id=display-json-variables>Display JSON variables<a class=headerlink href=#display-json-variables title="Permanent link">~</a></h3> <p>Requires <code>#define USE_DT_VARS</code></p> <p>Display variables that are exposed in JSON MQTT strings e.g. in TelePeriod messages. </p> <p>The values are updated every second.</p> <p><code>dv#:xp:yp:gc:fc:fo:ts:tl:dp:ut:JSON:ut:</code> <br> <em>Parameters are separated by colons.</em> </p> <ul> <li><code>dv#</code> where # = defines a variable number 0-7 (may be expanded by #define MAX_DT_VARS N)</li> <li><code>xp</code> = x position </li> <li><code>yp</code> = y position </li> <li><code>gc</code> = text background color (index color) </li> <li><code>fc</code> = text foreground color (index color) </li> <li><code>fo</code> = text font </li> <li><code>ts</code> = text size (negative value denotes transparent text)</li> <li><code>tl</code> = text field length (if negative align right) </li> <li><code>dp</code> = decimal precision (if &lt; 0 denotes a string) </li> <li><code>ut</code> = update time in seconds (1...N) </li> <li><code>jt</code> = JSON VARIABLE NAME (uppercase) if you specify a string in brackets here it is treated as displaytext cmd </li> <li><code>ut</code> = unit string (max 5 chars and must end with a colon :) </li> </ul> <p>example: <div class=highlight><pre><span></span><code><span class=p>;</span><span class=kt>ILI9341</span><span class=w> </span><span class=mi>320</span><span class=n>x240</span><span class=w> </span><span class=n>portrait</span><span class=w> </span><span class=n>mode</span>
<span class=p>[</span><span class=n>x0y0P</span><span class=o>/</span><span class=n>corona</span><span class=o>.</span><span class=n>rgb</span><span class=kt>:</span><span class=p>]</span>
<span class=p>[</span><span class=n>dc19</span><span class=kt>:</span><span class=mi>31000</span><span class=p>]</span>
<span class=p>[</span><span class=n>x60y30f2Ci3D2</span><span class=p>]</span><span class=kt>Tasmota</span>
<span class=p>;</span><span class=w> </span><span class=n>display</span><span class=w> </span><span class=n>text</span><span class=w> </span><span class=n>cmd</span><span class=w> </span><span class=n>displays</span><span class=w> </span><span class=n>time</span><span class=w> </span><span class=n>with</span><span class=w> </span><span class=n>seconds</span>
<span class=p>[</span><span class=n>dv0</span><span class=kt>:</span><span class=mi>50</span><span class=kt>:</span><span class=mi>70</span><span class=kt>:</span><span class=mi>19</span><span class=kt>:</span><span class=mi>3</span><span class=kt>:</span><span class=mi>2</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=mi>11</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=p>[</span><span class=n>tS</span><span class=p>]</span><span class=ow>::</span><span class=p>]</span>
<span class=p>;</span><span class=w> </span><span class=n>display</span><span class=w> </span><span class=n>text</span><span class=w> </span><span class=n>cmd</span><span class=w> </span><span class=n>displays</span><span class=w> </span><span class=n>analog</span><span class=w> </span><span class=n>watch</span>
<span class=p>[</span><span class=n>dv1</span><span class=kt>:</span><span class=mi>120</span><span class=kt>:</span><span class=mi>250</span><span class=kt>:</span><span class=mi>19</span><span class=kt>:</span><span class=mi>2</span><span class=kt>:</span><span class=mi>2</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=mi>11</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=mi>5</span><span class=kt>:</span><span class=p>[</span><span class=n>w40</span><span class=p>]</span><span class=ow>::</span><span class=p>]</span>
<span class=p>;</span><span class=w> </span><span class=n>displays</span><span class=w> </span><span class=kt>Wifi</span><span class=w> </span><span class=kt>SSID</span><span class=w> </span><span class=kt>JSON</span>
<span class=p>[</span><span class=n>dv2</span><span class=kt>:</span><span class=mi>10</span><span class=kt>:</span><span class=mi>10</span><span class=kt>:</span><span class=mi>0</span><span class=kt>:</span><span class=mi>3</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:-</span><span class=mi>1</span><span class=kt>:</span><span class=mi>10</span><span class=kt>:-</span><span class=mi>1</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:WIFI</span><span class=o>#</span><span class=kt>SSID</span><span class=ow>::</span><span class=p>]</span>
<span class=p>[</span><span class=n>x10y150f1s1Ci3Bi19</span><span class=p>]</span><span class=kt>Counter:</span>
<span class=p>;</span><span class=w> </span><span class=n>displays</span><span class=w> </span><span class=n>a</span><span class=w> </span><span class=n>sensor</span><span class=w> </span><span class=kt>JSON</span><span class=w> </span><span class=n>variable</span><span class=w> </span><span class=p>(</span><span class=n>here</span><span class=w> </span><span class=n>counter1</span><span class=p>)</span>
<span class=p>[</span><span class=n>dv3</span><span class=kt>:</span><span class=mi>80</span><span class=kt>:</span><span class=mi>150</span><span class=kt>:</span><span class=mi>0</span><span class=kt>:</span><span class=mi>7</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=mi>11</span><span class=kt>:</span><span class=mi>0</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:COUNTER</span><span class=o>#</span><span class=kt>C1:</span><span class=n>cnt</span><span class=kt>:</span><span class=p>]</span>
<span class=p>[</span><span class=n>x10y300f1s1Ci3Bi19</span><span class=p>]</span><span class=n>memory</span><span class=w> </span><span class=n>free</span><span class=kt>:</span>
<span class=p>;</span><span class=w> </span><span class=n>displays</span><span class=w> </span><span class=n>pre</span><span class=w> </span><span class=n>memory</span><span class=w> </span><span class=n>space</span><span class=w> </span><span class=kt>JSON</span><span class=w> </span><span class=p>(</span><span class=n>heap</span><span class=p>)</span>
<span class=p>[</span><span class=n>dv4</span><span class=kt>:</span><span class=mi>100</span><span class=kt>:</span><span class=mi>300</span><span class=kt>:</span><span class=mi>0</span><span class=kt>:</span><span class=mi>7</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:-</span><span class=mi>7</span><span class=kt>:-</span><span class=mi>1</span><span class=kt>:</span><span class=mi>1</span><span class=kt>:HEAP:</span><span class=n>kb</span><span class=kt>:</span><span class=p>]</span>
</code></pre></div></p> <h3 id=line-chart>Line chart<a class=headerlink href=#line-chart title="Permanent link">~</a></h3> <p>(<code>#define USE_GRAPH</code> and <code>#define NUM_GRAPHS 4</code> - maximum of 16) </p> <p>Up to 4 line charts may be defined. </p> <p>Ticks may be defined by adding tick numbers to the <code>n</code> parameter. </p> <div class="admonition example"> <p class=admonition-title>Example</p> <p><code>n</code> = graph number (0..3) + x ticks (16*number of x ticks) + y ticks (1024*number of y ticks). </p> </div> <p><code>Gn:xp:yp:xs:ys:t:fmax:fmin</code> defines a line chart: <br> <em>Parameters are separated by colons.</em></p> <ul> <li><code>n</code> = number up to 4 charts (0..3) + optional ticks </li> <li><code>xp</code> = x position </li> <li><code>yp</code> = y position </li> <li><code>xs</code> = x size (if xs&lt;0) graph is not reinitialized on second call (e.g., restart of scripter) </li> <li><code>ys</code> = y size </li> <li><code>t</code> = time in minutes for total chart </li> <li><code>ymin</code> = float chart minimum y </li> <li><code>ymax</code> = float chart maximum y </li> <li><code>icol</code> = line color index (only for color graphs) </li> </ul> <p><code>gn:v</code> adds a value to the chart buffer:</p> <ul> <li><code>n</code> = number up to 4 charts (0..3) </li> <li><code>v</code> = float value to add </li> </ul> <p><code>Gdn:m</code> sets graph n draw mode <code>0</code> = off, <code>1</code> = on. When on, redraw graph </p> <ul> <li><code>Gsn:path:</code> = save graph <code>n</code> to path (if optional file system is present) </li> <li><code>Grn:path:</code> = restore graph <code>n</code> from path (if optional file system is present) </li> </ul> <h3 id=batch-files>Batch files<a class=headerlink href=#batch-files title="Permanent link">~</a></h3> <p>When a file system is present you may define displaytext batch files. If a file named "display.bat" is present in the file system this batch file is executed. The file may contain any number of diplaytext cmds, one at a line. You may have comment lines beginning with a <code>;</code></p> <div class="admonition example"> <p class=admonition-title>Example</p> <p><div class=highlight><pre><span></span><code><span class=p>;</span><span class=w> </span><span class=n>clr</span><span class=w> </span><span class=n>screen</span>
<span class=p>[</span><span class=n>z</span><span class=p>]</span>
<span class=p>;</span><span class=w> </span><span class=n>draw</span><span class=w> </span><span class=n>full</span><span class=w> </span><span class=n>screen</span><span class=w> </span><span class=n>picture</span>
<span class=p>[</span><span class=n>x0y0P</span><span class=o>/</span><span class=n>corona</span><span class=o>.</span><span class=n>rgb</span><span class=kt>:</span><span class=p>]</span>
<span class=p>;</span><span class=w> </span><span class=n>define</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=n>color</span>
<span class=p>[</span><span class=n>dc19</span><span class=kt>:</span><span class=mi>31000</span><span class=p>]</span>
<span class=p>;</span><span class=w> </span><span class=n>draw</span><span class=w> </span><span class=n>transparent</span><span class=w> </span><span class=n>text</span><span class=w> </span><span class=n>with</span><span class=w> </span><span class=n>new</span><span class=w> </span><span class=n>index</span><span class=w> </span><span class=n>color</span><span class=w> </span><span class=n>over</span><span class=w> </span><span class=n>picture</span>
<span class=p>[</span><span class=n>x60y30f2Ci19D2</span><span class=p>]</span><span class=kt>Tasmota</span>
</code></pre></div> A displaytext batch file may be executed from console by displaybatch /file </p> </div> <h3 id=color-codes>Color Codes<a class=headerlink href=#color-codes title="Permanent link">~</a></h3> <p>While computers and web design are generally using a 24-bit RGB888 color code built from a byte-triplet such as (255, 136, 56) or #FF8038, small color panels often use a more compact code 16-bit RGB565 color code. This means that the R, G and B coefficient are coded on less number of bits:</p> <ul> <li>Red on 5 bits = <code>0..31</code></li> <li>Green on 6 bits = <code>0..63</code></li> <li>Blue on 5 bits = <code>0..31</code></li> </ul> <p>For <code>Cp</code> and <code>Bp</code>, <code>p</code> is calculated as <code>p = 2048 * Red + 64 * Green + Blue</code></p> <div class="admonition example"> <p class=admonition-title>Example</p> <p>Red 50% + Green 20% + Blue 100% = 2048 * 16 + 64 * 12 + 31 = 33576 equivalent to web #8033FF</p> </div> <p>Common colors table:</p> <table> <thead> <tr> <th>Color</th> <th>Code</th> <th>Color</th> <th>Code</th> <th>Color</th> <th>Code</th> </tr> </thead> <tbody> <tr> <td>Black</td> <td>0</td> <td>Navy</td> <td>15</td> <td>Dark green</td> <td>3</td> </tr> <tr> <td>Dark cyan</td> <td>1007</td> <td>Maroon</td> <td>30720</td> <td>Purple</td> <td>30735</td> </tr> <tr> <td>Olive</td> <td>31712</td> <td>Light grey</td> <td>50712</td> <td>Dark grey</td> <td>31727</td> </tr> <tr> <td>Blue</td> <td>31</td> <td>Green</td> <td>7</td> <td>Cyan</td> <td>2047</td> </tr> <tr> <td>Red</td> <td>63488</td> <td>Magenta</td> <td>63519</td> <td>Yellow</td> <td>65504</td> </tr> <tr> <td>White</td> <td>65535</td> <td>Orange</td> <td>64800</td> <td>Green yellow</td> <td>45029</td> </tr> <tr> <td>Pink</td> <td>64536</td> <td></td> <td></td> <td></td> <td></td> </tr> </tbody> </table> <h3 id=color-indices>Color Indices<a class=headerlink href=#color-indices title="Permanent link">~</a></h3> <p>Selected with <code>Ci</code> and <code>Bi</code> in the ILI9488, SSD1351, RA8876 and ST7789 color panels </p> <table> <thead> <tr> <th>Index</th> <th>Color</th> <th>Index</th> <th>Color</th> <th>Index</th> <th>Color</th> </tr> </thead> <tbody> <tr> <td>0</td> <td>BLACK</td> <td>1</td> <td>WHITE</td> <td>2</td> <td>RED</td> </tr> <tr> <td>3</td> <td>GREEN</td> <td>4</td> <td>BLUE</td> <td>5</td> <td>CYAN</td> </tr> <tr> <td>6</td> <td>MAGENTA</td> <td>7</td> <td>YELLOW</td> <td>8</td> <td>NAVY</td> </tr> <tr> <td>9</td> <td>DARKGREEN</td> <td>10</td> <td>DARKCYAN</td> <td>11</td> <td>MAROON</td> </tr> <tr> <td>12</td> <td>PURPLE</td> <td>13</td> <td>OLIVE</td> <td>14</td> <td>LIGHTGREY</td> </tr> <tr> <td>15</td> <td>DARKGREY</td> <td>16</td> <td>ORANGE</td> <td>17</td> <td>GREENYELLOW</td> </tr> <tr> <td>18</td> <td>PINK</td> <td></td> <td></td> <td></td> <td></td> </tr> </tbody> </table> <p>You may expand the index color table up from index 19 to 31. the cmd [dcI:V] defines the index color with index I (19-31) to the 16 bit color value V</p> <h4 id=note-on-e-paper-displays>Note on e-Paper Displays<a class=headerlink href=#note-on-e-paper-displays title="Permanent link">~</a></h4> <p>E-Paper displays have 2 operating modes: full update and partial update. While full update delivers a clean and sharp picture, it has the disadvantage of taking several seconds for the screen update and shows severe flickering during update. Partial update is quite fast (300 ms) with no flickering but there is the possibility that erased content is still slightly visible. It is therefore useful to perform a full update in regular intervals (e.g., each hour) to fully refresh the display.</p> <p>Compilation directives: <code>#define USE_SPI</code>, <code>#define USE_DISPLAY</code>, <code>#define USE_DISPLAY_EPAPER29</code>, or <code>#define USE_DISPLAY_EPAPER42</code></p> <p><strong>Remark</strong>: the 4.2 e-Paper display requires about 15k of RAM. Therefore it only works with Core 2.42 and above.</p> <h4 id=oled-lifetime>OLED Lifetime<a class=headerlink href=#oled-lifetime title="Permanent link">~</a></h4> <p>The typical specifications for the lifetime of an OLED when permanently on is about 10000 hours (416 days). Dimming to 50% expands the lifetime to about 25000 hours. </p> <h4 id=burn-in>Burn-in<a class=headerlink href=#burn-in title="Permanent link">~</a></h4> <p>The data sheets of the TFT and OLED displays mention burn-in effects when a static display is shown for extended periods of time. You may want to consider turning on the display on demand only.</p> <h2 id=fonts>Fonts<a class=headerlink href=#fonts title="Permanent link">~</a></h2> <p>The EPD font contains 95 characters starting from code 32, while the classic GFX font contains 256 characters ranging from 0 to 255. Custom characters above 127 can be displayed. To display these characters, you must specify an escape sequence (standard octal escapes do not work). The <code>~</code>character followed by a hex byte can define any character code. </p> <p>GFXFont:<br> <img alt=GFXFont src=https://user-images.githubusercontent.com/11647075/63440218-bb83e100-c42f-11e9-810c-74099f851902.jpg></p> <p>EPDFont:<br> <img alt=EPDFont src=https://user-images.githubusercontent.com/11647075/63440222-be7ed180-c42f-11e9-9be3-2f446fc28037.jpg></p> <h2 id=hardware-connections>Hardware Connections<a class=headerlink href=#hardware-connections title="Permanent link">~</a></h2> <p>I<sup>2</sup>C displays are connected in the usual manner and defined via the GPIO component selection. </p> <p>The I<sup>2</sup>C address must be specified using <code>DisplayAddress XX</code>, e.g., <code>60</code>. The model must be specified with <code>DisplayModel</code>, e.g., <code>2</code> for SSD1306. To permanently turn the display on set <code>DisplayDimmer 100</code>. Display rotation can be permanently set using <code>DisplayRotate X</code> (x = <code>0..3</code>).</p> <p>On SPI the CS and DC pins when needed must use the pin definition with Display_ID + CS e.g. ST7789_CS</p> <p>E-Paper displays are connected via software 3-wire SPI <code>(CS, SCLK, MOSI)</code>. DC should be connected to GND , Reset to 3.3 V and busy may be left unconnected. The jumper on the circuit board of the display must be set to 3-wire SPI. </p> <p>The ILI9488 is connected via hardware 3-wire SPI <code>(SPI_MOSI=GPIO13, SPI_SCLK=GPIO14, CS=GPIO15)</code> and must also be connected to the backlight pin The SSD1351 may be connected via hardware 3-wire SPI or 4-wire SPI with support for dimmer. The ILI9341 is connected via hardware 4-wire SPI, Backlight and OLEDRESET (dimmer supported on ESP32) <a href=https://github.com/arendst/Tasmota/issues/2557#issuecomment-444454436>Wiring</a></p> <p>The RA8876 is connected via standard hardware 4-wire SPI <code>(SPI_MOSI=GPIO13, SPI_SCLK=GPIO14, RA_8876_CS=GPIO15, SSPI_MISO=GPIO12)</code>. No backlight pin is needed, dimmer supported, on ESP32 gpio pins may be freeley defined (below gpio 33). </p> <p>The ST7789 is connected via 4 Wire software SPI ((ST7789_CS), SSPI_SCLK, SSPI_MOSI, ST7789_DC, OLEDRESET, Backlight ) </p> <h2 id=rule-examples>Rule Examples<a class=headerlink href=#rule-examples title="Permanent link">~</a></h2> <div class="admonition tip"> <p class=admonition-title>For scripting examples see <a href=../Scripting-Language/#scripting-cookbook>Scripting Cookbook</a></p> </div> <p>Print Text at size 1 on line 1, column 1:<br> <code>DisplayText [s1l1c1]Hello how are you?</code></p> <p>Draw a rectangle and draw text inside with size 2 and 7 chars padded with spaces:<br> <code>DisplayText [x85y95h130v30h-130v-30s2p7x90y100]37.25 C</code></p> <p>Refresh screen:<br> <code>DisplayText [z]</code></p> <p>Draw rectangle from x,y with width and height:<br> <code>DisplayText [x50y50r200:100]</code></p> <h3 id=display-local-sensors>Display Local Sensors<a class=headerlink href=#display-local-sensors title="Permanent link">~</a></h3> <p><em>(line breaks and indentation added to the rules for readability)</em></p> <p>Use Tasmota rules to display sensor values, time, and a separation line. Refresh the display every 60 minutes: <div class=highlight><pre><span></span><code><span class=nf>rule1</span><span class=w> </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>SHT3X</span><span class=o>-</span><span class=mh>0x44</span><span class=o>#</span><span class=kt>Temperature</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>f1p7x0y5</span><span class=p>]</span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=kt>C</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>SHT3X</span><span class=o>-</span><span class=mh>0x44</span><span class=o>#</span><span class=kt>Humidity</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>f1p10x70y5</span><span class=p>]</span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=o>%</span><span class=p>[</span><span class=n>x0y20h296x250y5t</span><span class=p>]</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>BMP280</span><span class=o>#</span><span class=kt>Pressure</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>f1p10x140y5</span><span class=p>]</span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>hPa</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=kt>Time</span><span class=o>#</span><span class=kt>Minute</span><span class=o>|</span><span class=mi>60</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=kt>Tt</span><span class=p>]</span><span class=w> </span><span class=n>endon</span>
</code></pre></div></p> <p>Show 4 analog channels: <div class=highlight><pre><span></span><code><span class=nf>rule1</span><span class=w> </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>ADS1115</span><span class=o>#</span><span class=kt>A0</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21c1l01</span><span class=p>]</span><span class=kt>Analog1:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>adc</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>ADS1115</span><span class=o>#</span><span class=kt>A1</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21c1l3</span><span class=p>]</span><span class=kt>Analog2:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>adc</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>ADS1115</span><span class=o>#</span><span class=kt>A2</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21c1l5</span><span class=p>]</span><span class=kt>Analog3:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>adc</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>ADS1115</span><span class=o>#</span><span class=kt>A3</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21c1l7</span><span class=p>]</span><span class=kt>Analog4:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>adc</span><span class=w> </span><span class=n>endon</span>
</code></pre></div></p> <p>Show BME280 + SGP30: <div class=highlight><pre><span></span><code><span class=nf>rule1</span><span class=w> </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>BME280</span><span class=o>#</span><span class=kt>Temperature</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21x0y0</span><span class=p>]</span><span class=kt>Temp:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=kt>C</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>BME280</span><span class=o>#</span><span class=kt>Humidity</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21x0y10</span><span class=p>]</span><span class=kt>Hum</span><span class=w> </span><span class=kt>:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=o>%%</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>BME280</span><span class=o>#</span><span class=kt>Pressure</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21x0y20</span><span class=p>]</span><span class=kt>Prss:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>hPa</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>SGP30</span><span class=o>#</span><span class=kt>TVOC</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21x0y30</span><span class=p>]</span><span class=kt>TVOC:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>ppb</span><span class=w> </span><span class=n>endon</span>
<span class=w>      </span><span class=n>on</span><span class=w> </span><span class=n>tele</span><span class=o>-</span><span class=kt>SGP30</span><span class=o>#</span><span class=n>eCO2</span><span class=w> </span><span class=kr>do</span><span class=w> </span><span class=kt>DisplayText</span><span class=w> </span><span class=p>[</span><span class=n>s1p21x0y40</span><span class=p>]</span><span class=n>eCO2</span><span class=kt>:</span><span class=w> </span><span class=o>%</span><span class=n>value</span><span class=o>%</span><span class=w> </span><span class=n>ppm</span><span class=w> </span><span class=p>[</span><span class=n>s1p0x0y50</span><span class=p>]</span><span class=kt>Time:</span><span class=w> </span><span class=p>[</span><span class=n>x35y50t</span><span class=p>]</span><span class=w> </span><span class=n>endon</span>
</code></pre></div></p> <h2 id=waveshare-display-drivers>WaveShare Display Drivers<a class=headerlink href=#waveshare-display-drivers title="Permanent link">~</a></h2> <p>Waveshare has two kinds of display controllers: with partial update and without partial update. The 2.9 inch driver is for partial update and should also support other Waveshare partial update models with modified WIDTH and HEIGHT parameters. The 4.2 inch driver is a full update display.</p> <p>epaper displays should be connected via software SPI. most of them require a reset and a busy line. connect the busy line to SSPI_MISO.</p> <p>The drivers are subclasses of the Adafruit GFX library. The class hierarchy is <code>LOWLEVEL :: Paint :: Renderer :: GFX</code>, where: </p> <ul> <li><code>GFX</code>: unmodified Adafruit library </li> <li><code>Renderer</code>: the interface for Tasmota </li> <li><code>Paint</code>: the modified pixel driver for e-paper </li> <li>there are several virtual functions that can be subclassed down to <code>LOWLEVEL</code></li> </ul> <p>The display dispatcher only does the class initialization call. All other calls go to the <code>Renderer</code> class.</p> <p>In black and white displays, a local RAM buffer must be allocated before calling the driver. This must be set to zero on character or TFT color displays.</p> <p>The EPD fonts use about 9k space, which can be selected at compile time using #ifdef directives.</p> <ul> <li>SSD1306 - 1.15k</li> <li>EPD42 - 2.57k</li> <li>EPD29 - 2.1k</li> <li>Display and Render class - ~12k</li> </ul> <h2 id=universal-display-driver>Universal Display Driver<a class=headerlink href=#universal-display-driver title="Permanent link">~</a></h2> <p>Universal Display Driver or uDisplay is a way to define your display settings using a simple text file and easily add it to Tasmota. uDisplay is <code>DisplayModel 17</code>. It supports I2C and hardware or software SPI (3 or 4 wire), 8,16 Bit parallel and RGB interface. The driver must be enabled by OPTION A3 on any GPIO pin. </p> <p>The driver is enabled by compiling with <code>#define USE_UNIVERSAL_DISPLAY</code> and setting an unused GPIO to <code>Option A3</code>.</p> <h3 id=descriptor-file>Descriptor File<a class=headerlink href=#descriptor-file title="Permanent link">~</a></h3> <p>The display itself is defined by a descriptor file. Many display descriptor files are included in Tasmota GitHub in <a href=https://github.com/arendst/Tasmota/tree/development/tasmota/displaydesc><code>tasmota/displaydesc</code></a> folder</p> <p>which may be provided by any of the following methods:</p> <ol> <li>A <code>display.ini</code> file present in the flash file system. <strong><em>preferred option</em></strong></li> <li>A special <code>&gt;d</code> section in scripting. Copy the file to the <code>&gt;d</code> script section and place a <code>-&gt;displayreinit</code> cmd into <code>&gt;B</code> section</li> <li>Copy the descriptor to <code>Rule 3</code> but <strong>do not</strong> enable it (descriptor may not contain ANY spaces in this mode)</li> <li>Compile the descriptor into the binary in a section in <code>user_config_override.h</code> under driver 17 (const char)</li> </ol> <p>Options 2 and 4 work well for 1M flash devices.</p> <p>Descriptor text file has the following elements: </p> <p><code>:H</code> </p> <p>Header line describes the main features of the display (comma separated, no spaces allowed)</p> <ol> <li>name</li> <li>x size in pixels</li> <li>y size in pixels</li> <li>bits per pixel (1 for bw displays, 16 for color displays)</li> <li>hardware interface used either I2C or SPI</li> </ol> <p><code>I2C</code> </p> <p>I2C interface:</p> <ol> <li>I2C address in HEX</li> <li>SCL pin</li> <li>SDA pin</li> <li>RESET pin</li> </ol> <p><code>SPI</code> </p> <p>SPI interface:</p> <ol> <li>Number (1 = hardware SPI 1, 2 = Hardware SPI 2 (ESP32), 3 = software SPI</li> <li>CS pin</li> <li>CLK pin</li> <li>MOSI pin</li> <li>DC pin</li> <li>Backlight pin</li> <li>RESET pin</li> <li>MISO pin</li> <li>SPI Speed in MHz</li> </ol> <p><code>PAR</code> </p> <p>Parallel interface: (ESP32-S3 only)</p> <ol> <li>Bus size 8 or 16</li> <li>RESET pin</li> <li>CS pin</li> <li>DC pin</li> <li>WR pin</li> <li>RD pin</li> <li>Backlight pin</li> <li>d0-d7 pins</li> <li>d8-d15 pins if bus size = 16</li> <li>Parallel Speed in MHz (usually 20)</li> </ol> <p><code>RGB</code> </p> <p>RGB 16 bit interface: (ESP32-S3 only)</p> <ol> <li>DE pin</li> <li>VSYNC pin</li> <li>HSYNC pin</li> <li>PCLK pin</li> <li>Backlight pin </li> <li>b0-b5 pins (blue color)</li> <li>g0-g5 pins (green color)</li> <li>r0-r4 pins (red color) </li> <li>Pixel clock Speed in MHz (usually 14)</li> </ol> <p>All signals must be given. Unused pins may be set to -1. If you specify a <code>*</code> char the pin number is derived from the Tasmota GPIO GUI.<br> The CS and DC pins must be the standard pins e.g. <code>SPI_CS</code> or <code>SPI_DC</code>. </p> <div class="admonition example"> <p class=admonition-title>Example</p> </div> <div class=highlight><pre><span></span><code><span class=kt>:H</span><span class=p>,</span><span class=kt>SH1106</span><span class=p>,</span><span class=mi>128</span><span class=p>,</span><span class=mi>64</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=kt>I2C</span><span class=p>,</span><span class=mi>3</span><span class=n>c</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span>
</code></pre></div> <div class=highlight><pre><span></span><code><span class=kt>:H</span><span class=p>,</span><span class=kt>ILI9341</span><span class=p>,</span><span class=mi>240</span><span class=p>,</span><span class=mi>320</span><span class=p>,</span><span class=mi>16</span><span class=p>,</span><span class=kt>SPI</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=o>-</span><span class=mi>1</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>13</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>15</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=mi>40</span>
</code></pre></div> <p><code>:S</code><br> (<em>optional</em>) Splash setup, also defines initial colors. If omitted screen is not cleared initially.</p> <ol> <li>Font number, if -1 splash screen is suppressed</li> <li>Font size</li> <li>FG color (as index color)</li> <li>BG color (as index color)</li> <li>x position of text</li> <li>y position of text </li> </ol> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=kt>:S</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>40</span><span class=p>,</span><span class=mi>20</span>
</code></pre></div> </div> <p><code>:I</code><br> Initial register setup for the display controller. (<code>IC</code> marks that the controller is using command mode even with command parameters) All values are in hex. On SPI the first value is the command, then the number of arguments and the the arguments itself. <code>Bi7 7</code> on the number of arguments set indicate a wait of 150 ms. On I<sup>2</sup>C all hex values are sent to I<sup>2</sup>C.</p> <div class="admonition example"> <p class=admonition-title>Example</p> <div class=highlight><pre><span></span><code><span class=kt>:I</span>
<span class=kt>EF</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>80</span><span class=p>,</span><span class=mi>02</span>
<span class=kt>CF</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=kt>C1</span><span class=p>,</span><span class=mi>30</span>
<span class=kt>ED</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>64</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>81</span>
<span class=kt>E8</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>85</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>78</span>
<span class=kt>CB</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>39</span><span class=p>,</span><span class=mi>2</span><span class=kt>C</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>34</span><span class=p>,</span><span class=mi>02</span>
<span class=kt>F7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>20</span>
<span class=kt>EA</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>00</span>
<span class=kt>C0</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>23</span>
<span class=kt>C1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>10</span>
<span class=kt>C5</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=n>e</span><span class=p>,</span><span class=mi>28</span>
<span class=kt>C7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>86</span>
<span class=mi>36</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>48</span>
<span class=mi>37</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>00</span>
<span class=mi>3</span><span class=kt>A</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>55</span>
<span class=kt>B1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>18</span>
<span class=kt>B6</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>08</span><span class=p>,</span><span class=mi>82</span><span class=p>,</span><span class=mi>27</span>
<span class=kt>F2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>00</span>
<span class=mi>26</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>01</span>
<span class=kt>E0</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>2</span><span class=kt>B</span><span class=p>,</span><span class=mi>0</span><span class=kt>C</span><span class=p>,</span><span class=mi>0</span><span class=kt>E</span><span class=p>,</span><span class=mi>08</span><span class=p>,</span><span class=mi>4</span><span class=kt>E</span><span class=p>,</span><span class=kt>F1</span><span class=p>,</span><span class=mi>37</span><span class=p>,</span><span class=mi>07</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>0</span><span class=kt>E</span><span class=p>,</span><span class=mi>09</span><span class=p>,</span><span class=mi>00</span>
<span class=kt>E1</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>0</span><span class=kt>E</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>07</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=kt>C1</span><span class=p>,</span><span class=mi>48</span><span class=p>,</span><span class=mi>08</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>0</span><span class=kt>C</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>36</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span>
<span class=mi>11</span><span class=p>,</span><span class=mi>80</span>
<span class=mi>29</span><span class=p>,</span><span class=mi>80</span>
</code></pre></div> </div> <p><code>:V</code> video signal parameters for RGB panels<br> hsync_polarity,<br> hsync_front_porch,<br> hsync_pulse_width,<br> hsync_back_porch,<br> vsync_polarity,<br> vsync_front_porch,<br> vsync_pulse_width,<br> vsync_back_porch,<br> pclk_active_neg, </p> <p><code>:o</code>,OP <br> <code>OP</code> = controller OPCODE to switch display off </p> <p><code>:O</code>,OP <br> <code>OP</code> = controller OPCODE to switch display on </p> <p><code>:R</code>,OP,SL </p> <ol> <li><code>OP</code> = rotation opcode</li> <li><code>SL</code> = startline opcode (optional) </li> </ol> <p><code>:0</code><br> <code>:1</code><br> <code>:2</code><br> <code>:3</code> </p> <p>Register values for all 4 rotations (color display only)</p> <ol> <li>rotation code</li> <li>x offset</li> <li>y offset</li> <li>rotation pseudo opcode for touch panel, in case of RGB panel use only these entries the appropriate coordinate convervsions are defined via pseudo opcodes 0 = no conversion 1 = swap and flip x 2 = flipx, flip y 3 = swap and flip y 4 = flip x 5 = flip y bit 7 = swap x,y</li> </ol> <p><code>:A</code><br> 3 OPCODES to set address window <em>(all but epaper displays)</em></p> <ol> <li>set column opcode </li> <li>set row opcode </li> <li>start write opcode </li> <li>pixel size (optional) </li> </ol> <p><code>:P</code><br> Pixel transfer size (default = 16 bit RGB) <em>(optional)</em></p> <p><code>:i</code><br> invert display opcodes<br> 1. inversion off<br> 2. inversion on </p> <p><code>:D</code><br> dimmer opcode <em>(optional)</em></p> <p><code>:B</code><br> LVGL <em>(optional)</em></p> <ol> <li>number of display lines flushed at once (min 10) the lower the lesser memory needed </li> <li>bit 0: DMA enables (<code>0</code> for no DMA, 1 use DMA) - not supported on all displays<br>bit 1: selects color swap, 2 = swap 16 bit color<br>bit 2: enable async DMA, <code>0</code> wait for DMA to complete before returning, <code>4</code> run DMA async in the background. This later mode is only valid if the SPI bus is not shared between the display and any other SPI device like SD Card Reader,<br>bit 3: <code>8</code> inverted busy line on epaper displays.</li> </ol> <p><code>:T</code><br> Wait times used for E-paper display<br> 1. full refresh wait in ms<br> 2. partial refresh wait in ms<br> 3. wait after update in ms </p> <p><code>:f</code><br> codes for epaper full refresh update </p> <p><code>:p</code><br> codes for epaper partial refresh update </p> <p>beside the epaper chip codes, some pseudo opcodes are supported<br> EP_RESET 60,1,T = toggle reset pin T milliseconds<br> EP_LUT_FULL 61,0 = switch to full update mode<br> EP_LUT_PARTIAL 62,0 = switch to partial update mode<br> EP_WAITIDLE 63,1,T = wait for busy pin or T milliseconds<br> EP_SET_MEM_AREA 64,0 = set memory area to full screen<br> EP_SET_MEM_PTR 65,0 = set memory pointer to start of screen<br> EP_SEND_DATA 66,0 = send framebuffer<br> EP_CLR_FRAME 67,0 = send clr data<br> EP_SEND_FRAME 68,0 = complete sendframedata sequence<br> EP_BREAK_RR_EQU 69,X = break when reset reason == X<br> EP_BREAK_RR_NEQ 6a,X = break when reset reason != X</p> <p><code>:L</code>,size,OP<br> Lookup table for full refresh (Waveshare 29)</p> <p><code>:l</code>,size,OP<br> Lookuptable for partial refresh (Waveshare 29)</p> <p><code>:Lx</code>,size,OP<br> Lookuptable for full refresh (Waveshare 42) <code>x</code> = 1..5<br> <code>size</code> = number of bytes in table<br> <code>OP</code> = opcode for sending refresh table </p> <p><code>:TIx,AA,SCL,SDA,&lt;IRQ&gt;,&lt;RST&gt;</code><br> Defines a touch panel an I2C bus nr <code>x</code> (1 or 2)<br> AA is device address<br> SCL, SDA are the pins used (or * for tasmota definition)<br> IRQ,RST optional IRQ and RST pins</p> <p><code>:TS,CS_PIN</code> <br> Defines a touch panel an SPI bus with chip select <code>CS_PIN</code> (or *) </p> <p><code>:TR</code> enable simple resistive touch via data lines (e.g. cheap il9341 displays) </p> <p><code>:M,X1,X2,Y1,Y2</code> Defines an optional mapping for touch controllers (always needed on resistive touch) <code>X1</code> = display left margin<br> <code>X2</code> = display right margin<br> <code>Y1</code> = display upper margin<br> <code>Y1</code> = display lower margin </p> <p><code>:r,X</code> Defines optional display rotation <code>X</code> = <code>0..3</code></p> <p><code>:b,X</code> Defines optional inverted backpanel <code>X</code> = <code>1</code> = use inverted logic for backpanel </p> <div class="admonition example"> <p class=admonition-title>Full configuration for SH1106 (comment lines starting with ; are allowed)</p> </div> <div class=highlight><pre><span></span><code><span class=kt>:H</span><span class=p>,</span><span class=kt>SH1106</span><span class=p>,</span><span class=mi>128</span><span class=p>,</span><span class=mi>64</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=kt>I2C</span><span class=p>,</span><span class=mi>3</span><span class=n>c</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span>
<span class=kt>:S</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>20</span>
<span class=kt>:I</span>
<span class=kt>AE</span>
<span class=kt>D5</span><span class=p>,</span><span class=mi>80</span>
<span class=kt>A8</span><span class=p>,</span><span class=mi>3</span><span class=n>f</span>
<span class=kt>D3</span><span class=p>,</span><span class=mi>00</span>
<span class=mi>40</span>
<span class=mi>8</span><span class=kt>D</span><span class=p>,</span><span class=mi>14</span>
<span class=mi>20</span><span class=p>,</span><span class=mi>00</span>
<span class=kt>A1</span>
<span class=kt>C8</span>
<span class=kt>DA</span><span class=p>,</span><span class=mi>12</span>
<span class=mi>81</span><span class=p>,</span><span class=kt>CF</span>
<span class=kt>D9F1</span>
<span class=kt>DB</span><span class=p>,</span><span class=mi>40</span>
<span class=kt>A4</span>
<span class=kt>A6</span>
<span class=kt>AF</span>
<span class=kt>:</span><span class=n>o</span><span class=p>,</span><span class=kt>AE</span>
<span class=kt>:O</span><span class=p>,</span><span class=kt>AF</span>
<span class=kt>:A</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>40</span>
<span class=o>#</span>
</code></pre></div> <div class="admonition example"> <p class=admonition-title>Full configuration for ILI9341: (comment lines starting with ; are allowed)</p> </div> <p><div class=highlight><pre><span></span><code><span class=kt>:H</span><span class=p>,</span><span class=kt>ILI9341</span><span class=p>,</span><span class=mi>240</span><span class=p>,</span><span class=mi>320</span><span class=p>,</span><span class=mi>16</span><span class=p>,</span><span class=kt>SPI</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=mi>40</span>
<span class=kt>:S</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>40</span><span class=p>,</span><span class=mi>20</span>
<span class=kt>:I</span>
<span class=kt>EF</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>80</span><span class=p>,</span><span class=mi>02</span>
<span class=kt>CF</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=kt>C1</span><span class=p>,</span><span class=mi>30</span>
<span class=kt>ED</span><span class=p>,</span><span class=mi>4</span><span class=p>,</span><span class=mi>64</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>12</span><span class=p>,</span><span class=mi>81</span>
<span class=kt>E8</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>85</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>78</span>
<span class=kt>CB</span><span class=p>,</span><span class=mi>5</span><span class=p>,</span><span class=mi>39</span><span class=p>,</span><span class=mi>2</span><span class=kt>C</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>34</span><span class=p>,</span><span class=mi>02</span>
<span class=kt>F7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>20</span>
<span class=kt>EA</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>00</span>
<span class=kt>C0</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>23</span>
<span class=kt>C1</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>10</span>
<span class=kt>C5</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>3</span><span class=n>e</span><span class=p>,</span><span class=mi>28</span>
<span class=kt>C7</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>86</span>
<span class=mi>36</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>48</span>
<span class=mi>37</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>00</span>
<span class=mi>3</span><span class=kt>A</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>55</span>
<span class=kt>B1</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>18</span>
<span class=kt>B6</span><span class=p>,</span><span class=mi>3</span><span class=p>,</span><span class=mi>08</span><span class=p>,</span><span class=mi>82</span><span class=p>,</span><span class=mi>27</span>
<span class=kt>F2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>00</span>
<span class=mi>26</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>01</span>
<span class=kt>E0</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>2</span><span class=kt>B</span><span class=p>,</span><span class=mi>0</span><span class=kt>C</span><span class=p>,</span><span class=mi>0</span><span class=kt>E</span><span class=p>,</span><span class=mi>08</span><span class=p>,</span><span class=mi>4</span><span class=kt>E</span><span class=p>,</span><span class=kt>F1</span><span class=p>,</span><span class=mi>37</span><span class=p>,</span><span class=mi>07</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>0</span><span class=kt>E</span><span class=p>,</span><span class=mi>09</span><span class=p>,</span><span class=mi>00</span>
<span class=kt>E1</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>0</span><span class=kt>E</span><span class=p>,</span><span class=mi>14</span><span class=p>,</span><span class=mi>03</span><span class=p>,</span><span class=mi>11</span><span class=p>,</span><span class=mi>07</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=kt>C1</span><span class=p>,</span><span class=mi>48</span><span class=p>,</span><span class=mi>08</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span><span class=p>,</span><span class=mi>0</span><span class=kt>C</span><span class=p>,</span><span class=mi>31</span><span class=p>,</span><span class=mi>36</span><span class=p>,</span><span class=mi>0</span><span class=kt>F</span>
<span class=mi>11</span><span class=p>,</span><span class=mi>80</span>
<span class=mi>29</span><span class=p>,</span><span class=mi>80</span>
<span class=kt>:</span><span class=n>o</span><span class=p>,</span><span class=mi>28</span>
<span class=kt>:O</span><span class=p>,</span><span class=mi>29</span>
<span class=kt>:A</span><span class=p>,</span><span class=mi>2</span><span class=kt>A</span><span class=p>,</span><span class=mi>2</span><span class=kt>B</span><span class=p>,</span><span class=mi>2</span><span class=kt>C</span>
<span class=kt>:R</span><span class=p>,</span><span class=mi>36</span>
<span class=kt>:</span><span class=mi>0</span><span class=p>,</span><span class=mi>48</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>00</span>
<span class=kt>:</span><span class=mi>1</span><span class=p>,</span><span class=mi>28</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>01</span>
<span class=kt>:</span><span class=mi>2</span><span class=p>,</span><span class=mi>88</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>02</span>
<span class=kt>:</span><span class=mi>3</span><span class=p>,</span><span class=kt>E8</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>02</span>
<span class=o>#</span>
</code></pre></div> Scripter is the nost convenient way to edit and develop a uDisplay driver. On every scripter save the display is reinitialized and you immediately see results of your changes. </p> <div class="admonition example"> <p class=admonition-title>Scripter driven display descriptor</p> </div> <div class=highlight><pre><span></span><code><span class=o>&gt;</span><span class=kt>D</span>
<span class=o>&gt;</span><span class=kt>B</span>
<span class=ow>=&gt;</span><span class=n>displayreinit</span>
<span class=o>&gt;</span><span class=n>d</span>
<span class=p>;</span><span class=w> </span><span class=n>name</span><span class=p>,</span><span class=n>xs</span><span class=p>,</span><span class=n>ys</span><span class=p>,</span><span class=n>bpp</span><span class=p>,</span><span class=n>interface</span><span class=p>,</span><span class=w> </span><span class=n>address</span><span class=p>,</span><span class=w> </span><span class=n>scl</span><span class=p>,</span><span class=n>sda</span><span class=p>,</span><span class=n>reset</span>
<span class=kt>:H</span><span class=p>,</span><span class=kt>SH1106</span><span class=p>,</span><span class=mi>128</span><span class=p>,</span><span class=mi>64</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=kt>I2C</span><span class=p>,</span><span class=mi>3</span><span class=n>c</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span><span class=p>,</span><span class=o>*</span>
<span class=kt>:S</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>2</span><span class=p>,</span><span class=mi>1</span><span class=p>,</span><span class=mi>0</span><span class=p>,</span><span class=mi>30</span><span class=p>,</span><span class=mi>20</span>
<span class=kt>:I</span>
<span class=kt>AE</span>
<span class=kt>D5</span><span class=p>,</span><span class=mi>80</span>
<span class=kt>A8</span><span class=p>,</span><span class=mi>3</span><span class=n>f</span>
<span class=kt>D3</span><span class=p>,</span><span class=mi>00</span>
<span class=mi>40</span>
<span class=mi>8</span><span class=kt>D</span><span class=p>,</span><span class=mi>14</span>
<span class=mi>20</span><span class=p>,</span><span class=mi>00</span>
<span class=kt>A1</span>
<span class=kt>C8</span>
<span class=kt>DA</span><span class=p>,</span><span class=mi>12</span>
<span class=mi>81</span><span class=p>,</span><span class=kt>CF</span>
<span class=kt>D9F1</span>
<span class=kt>DB</span><span class=p>,</span><span class=mi>40</span>
<span class=kt>A4</span>
<span class=kt>A6</span>
<span class=kt>AF</span>
<span class=kt>:</span><span class=n>o</span><span class=p>,</span><span class=kt>AE</span>
<span class=kt>:O</span><span class=p>,</span><span class=kt>AF</span>
<span class=kt>:A</span><span class=p>,</span><span class=mi>00</span><span class=p>,</span><span class=mi>10</span><span class=p>,</span><span class=mi>40</span>
<span class=o>#</span>
</code></pre></div> <h2 id=compiling>Compiling<a class=headerlink href=#compiling title="Permanent link">~</a></h2> <p>There are also many variants of each display available and not all variants may be supported. </p> <table> <thead> <tr> <th>#define directive</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td>USE_DISPLAY</td> <td>Enable display support. Also requires at least one of the following compilation directives</td> </tr> <tr> <td>USE_DISPLAY_LCD</td> <td>Enable LCD display. Also requires <code>USE_I2C</code></td> </tr> <tr> <td>USE_DISPLAY_SSD1306</td> <td>Enable OLED SSD1306 display. Also requires <code>USE_I2C</code></td> </tr> <tr> <td>USE_DISPLAY_MATRIX</td> <td>Enable MATRIX display</td> </tr> <tr> <td>USE_DISPLAY_ILI9341</td> <td>Enable TFT ILI9341 display. Also requires <code>USE_SPI</code><br>if seconds SPI bus on ESP32 shall be used SSPI must be defined instead of SPI<br>ILI9342 also supported, select with cmd displayilimode 3, default is: displayilimode 1 (ILI9341)</td> </tr> <tr> <td>USE_DISPLAY_EPAPER_29</td> <td>Enable Waveshare EPAPER_29 display.(black/white, partial update)<br>Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_EPAPER_42</td> <td>Enable Waveshare EPAPER_42 display.(black/white, full update)<br>Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_SH1106</td> <td>Enable OLED SH1106 display. Also requires <code>USE_I2C</code></td> </tr> <tr> <td>USE_DISPLAY_ILI9488</td> <td>Enable TFT ILI9488 display. Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_SSD1351</td> <td>Enable color OLED SSD1351 display. Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_RA8876</td> <td>Enable TFT RA8876 display. Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_SEVENSEG</td> <td>Enable 7 segment display. Also requires <code>USE_I2C</code></td> </tr> <tr> <td>USE_DISPLAY_ST7789</td> <td>Enable TFT ST7789 display. Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_ILI9342</td> <td>Enable TFT ILI9342 display. Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_SD1331</td> <td>Enable TFT SD1331 display. Also requires <code>USE_SPI</code></td> </tr> <tr> <td>USE_DISPLAY_TM1637</td> <td>Enable 7-segment <a href=../TM163x/ >TM1637, TM1638 and MAX7219</a> display.</td> </tr> <tr> <td>USE_DISPLAY_SEVENSEG_COMMON_ANODE</td> <td>Common anode 7 segment displays. Also requires <code>USE_I2C</code></td> </tr> <tr> <td>USE_DISPLAY_TM1637</td> <td>Enable TM1637 display</td> </tr> <tr> <td>USE_LILYGO47</td> <td>Enable LILGO 4.7 Epaper display ESP32 combo</td> </tr> <tr> <td>USE_UNIVERSAL_DISPLAY</td> <td>Enable universal display driver</td> </tr> <tr> <td>USE_LVGL</td> <td>Enable LVGL, currently only supported by berry scripting</td> </tr> <tr> <td>USE_TOUCH_BUTTONS</td> <td>Enable virtual touch button support with touch displays</td> </tr> <tr> <td>SHOW_SPLASH</td> <td>Enable initialization splash message on the display</td> </tr> <tr> <td>USE_RAMFONT</td> <td>Enable loadable Fonts</td> </tr> <tr> <td>USE_MULTI_DISPLAY</td> <td>Enable multiple display support (up to 3)</td> </tr> <tr> <td>USE_AWATCH</td> <td>Enables analog watch support</td> </tr> <tr> <td>USE_GRAPH</td> <td>Enable line charts. Also requires <code>NUM_GRAPHS</code></td> </tr> </tbody> </table> <hr> </article> </div> </div> <a href=# class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </a> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://discord.gg/Ks2Kzd4 target=_blank rel=noopener title=discord.gg class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg> </a> <a href=https://t.me/tasmota target=_blank rel=noopener title=t.me class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg> </a> <a href=https://github.com/tasmota target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 480 512"><!-- Font Awesome Free 6.2.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M186.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1zM480 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2zm-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3zm-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"base": "..", "features": ["navigation.instant", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "content.action.edit"], "search": "../assets/javascripts/workers/search.db81ec45.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script> <script src=../assets/javascripts/bundle.4b2c34cd.min.js></script> <script src=https://unpkg.com/tablesort@5.3.0/dist/tablesort.min.js></script> <script src=../extra_javascript/tablesort.js></script> </body> </html>